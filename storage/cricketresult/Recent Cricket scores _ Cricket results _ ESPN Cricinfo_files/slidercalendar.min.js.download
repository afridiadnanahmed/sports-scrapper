if(typeof espni==="undefined"){espni.createNamespace("slidercalendar")}(function($,sr){var debounce=function(func,threshold,execAsap){var timeout;return function debounced(){var obj=this,args=arguments;function delayed(){if(!execAsap)func.apply(obj,args);timeout=null}if(timeout)clearTimeout(timeout);else if(execAsap)func.apply(obj,args);timeout=setTimeout(delayed,threshold||100)}};jQuery.fn[sr]=function(fn){return fn?this.bind("resize",debounce(fn)):this.trigger(sr)}})(jQuery,"smartresize");espni.slidercalendar=function(){var api={};var sliderSectionWrapObj=$(".slider-calendar-wrap");var sliderSectionObj=$("#slidercalendar");var sliderULObj=$("#slidercalendar ul");var sliderLIObj=$("#slidercalendar ul li");var sliderLinkObj=$("#slidercalendar ul li a");var sliderNextObj=$("#slidercalendar > a.calendar-next");var sliderPrevObj=$("#slidercalendar > a.calendar-prev");api.version="1.0.0";api.slider={};api.slider.outerWidth=0;api.slider.active_list=1;api.slider.list_size=1;api.slider.current_index=1;api.slider.framewidth={val:240};api.slider.startoffset={val:4};function _updateCachedVariables(){sliderSectionWrapObj=$(".slider-calendar-wrap");sliderSectionObj=$("#slidercalendar");sliderULObj=$("#slidercalendar ul");sliderLIObj=$("#slidercalendar ul li");sliderLinkObj=$("#slidercalendar ul li a");sliderNextObj=$(".slider-calendar-wrap > a.calendar-next");sliderPrevObj=$(".slider-calendar-wrap > a.calendar-prev")}function _updateSliderOuterWidth(){var ULOuterWidth=0;sliderLIObj.each(function(){ULOuterWidth+=$(this).outerWidth()});api.slider.outerWidth=ULOuterWidth}function updateActive(n){api.slider.active_list=n;sliderULObj.attr("data-active",n);sliderLIObj.removeClass("active").eq(n-1).addClass("active")}function _setActive(){var currObjOffset=$("#slidercalendar ul li.active").index();var viewportW=$("#slidercalendar").outerWidth();currObjOffset=currObjOffset*sliderLIObj.outerWidth();if(viewportW>640){api.slider.startoffset.val=4}else if(viewportW>400){api.slider.startoffset.val=3}else if(viewportW>240){api.slider.startoffset.val=2}else{api.slider.startoffset.val=1}currObjOffset=-currObjOffset+sliderLIObj.outerWidth()*api.slider.startoffset.val;sliderULObj.stop().animate({left:currObjOffset},200,"linear",function(){$("#slidercalendar ul").css("visibility","visible")})}function _setListSize(){api.slider.list_size=sliderLIObj.size();sliderULObj.attr("data-list-size",api.slider.list_size);if(api.slider.list_size===0){sliderSectionWrapObj.hide()}}function slideNext(){var pos=0;var animateSpeed=200;var c=$("#slidercalendar ul").css("left");c=parseInt(c,10);var wrapWidth=api.slider.framewidth.val;var sliderW=$("#slidercalendar ul").outerWidth();var viewportW=$("#slidercalendar").outerWidth();pos=c-wrapWidth;var limit=sliderW-viewportW;if(-c>=limit){return false}sliderULObj.stop().animate({left:pos},animateSpeed,"linear",function(){if(sliderW<=-(c-wrapWidth-viewportW)){sliderNextObj.removeClass("enabled").addClass("disabled")}else{sliderNextObj.removeClass("disabled").addClass("enabled");sliderPrevObj.removeClass("disabled").addClass("enabled")}})}function slidePrev(){var pos=0;var animateSpeed=200;var c=$("#slidercalendar ul").css("left");c=parseInt(c,10);var wrapWidth=api.slider.framewidth.val;var sliderW=$("#slidercalendar ul").outerWidth();var viewportW=$("#slidercalendar").outerWidth();pos=c+wrapWidth;var limit=sliderW-viewportW;if(pos>0){sliderULObj.stop().animate({left:0},animateSpeed,"linear",function(){sliderPrevObj.removeClass("enabled").addClass("disabled");sliderNextObj.removeClass("disabled").addClass("enabled")});return false}sliderULObj.stop().animate({left:pos},animateSpeed,"linear",function(){if(pos!==0){sliderNextObj.removeClass("disabled").addClass("enabled");sliderPrevObj.removeClass("disabled").addClass("enabled")}else{sliderPrevObj.removeClass("enabled").addClass("disabled")}})}function _initHandlers(){sliderPrevObj.on("click",function(c){c.preventDefault();if($(this).hasClass("enabled")){$(this).removeClass("enabled").addClass("disabled");slidePrev()}});sliderNextObj.on("click",function(c){c.preventDefault();if($(this).hasClass("enabled")){$(this).removeClass("enabled").addClass("disabled");slideNext()}})}function _updatePrevNextPositions(){var sliderH=$("#slidercalendar ul").outerHeight();var sliderPaddingTop=$(".slider-calendar-wrap").css("padding-top");sliderPaddingTop=parseInt(sliderPaddingTop,10);var t=sliderPaddingTop+sliderH/3;sliderPrevObj.css("top",t);sliderNextObj.css("top",t)}function _setLayout(){_updateCachedVariables();sliderNextObj.removeClass("disabled").addClass("enabled");sliderPrevObj.removeClass("disabled").addClass("enabled");_updateSliderOuterWidth();sliderULObj.css({display:"block",position:"absolute",left:"0",width:api.slider.outerWidth});_setListSize();_setActive();_updatePrevNextPositions();_initHandlers()}api.init=function(){_setLayout()};return api}();$(function(){espni.slidercalendar.init();var winWidth=$(window).width();window.addEventListener("resize",function(){if($(this).width()!=winWidth){winWidth=$(this).width();var lazyresize=_.debounce(espni.slidercalendar.init,300);lazyresize()}},false);window.addEventListener("orientationchange",function(){var lazyresize_device=_.debounce(espni.slidercalendar.init,300);lazyresize_device()},false)}());